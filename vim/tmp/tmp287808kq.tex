% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.
% vim: tw=72

---

Let $a_1$, $a_2$, $\ldots$ be an infinite sequence of positive integers. Suppose that there is an integer $N>1$ such that, for each $n\ge N$, the number \[\frac{a_1}{a_2}+\frac{a_2}{a_3}+\cdots+\frac{a_{n-1}}{a_n}+\frac{a_n}{a_1}\]
is an integer. Prove that there is a positive integer $M$ such that $a_m=a_{m+1}$ for all $m\ge M$.

---

Consider the partial difference \[x=\frac{a_n}{a_{n+1}}+\frac{a_{n+1}}{a_1}-\frac{a_n}{a_1}=\frac{a_1a_n+a_{n+1}^2-a_na_{n+1}}{a_1a_{n+1}}.\]
Take a prime $p$ and analyze the $p$-adic valuation of the sequence. It suffices to show that $\nu_p(a_n)$ eventually becomes constant. Assume that for all $n$, $\nu_p(a_n)\ne\nu_p(a_{n+1})$. This is a valid assumption, because if $\nu_p(a_n)=\nu_p(a_{n+1})$, then $x=1$, which is an integer.

Since $x$ is always an integer, we have a few cases to consider:
\setcounter{iclaim}0
\begin{iclaim}
    For all $n$,
    \begin{itemize}
        \item If $\nu_p(a_n)>\nu_p(a_{n+1})$, then $\nu_p(a_{n+1})\ge\nu_p(a_1)$.
        \item If $\nu_p(a_n)<\nu_p(a_{n+1})$, then $\nu_p(a_{n+1})=\nu_p(a_1)$.
    \end{itemize}
\end{iclaim}
\begin{proof}
    The first case is trivial. Just note that $a_n/a_{n+1}$ will be an integer, so $a_1\mid a_{n+1}-a_n$. Now, if $\nu_p(a_n)<\nu_p(a_{n+1})$, then $a_n/a_{n+1}$ will not be an integer, whence $\nu_p(a_{n+1})\le\nu_p(a_1)$. However if $\nu_p(a_{n+1})<\nu_p(a_1)$, then $a_n/a_{n+1}$ and $(a_{n+1}-a_n)/a_1$ cannot sum to an integer, contradiction.
\end{proof}

It is now obvious that the sequence defined by $\nu_p(a_n)$ will eventually converge, the end.

