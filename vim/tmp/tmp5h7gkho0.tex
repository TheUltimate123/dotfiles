% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

For relatively prime positive integers $a$ and $b$ and positive real numbers $c$ and $\theta$, let $K$ denote the area of the triangle with sides of length $a\sin\theta$, $b\cos\theta$, and $c\tan\theta$, given that it is positive. Suppose that if $a$ and $b$ remain fixed, then $K$ achieves a maximum when $c=85$. Find the sum of all distinct possible values of $a+b$.

---

Let $\zeta$ be the angle opposite the side of length $c\tan\theta$. Then, \[K=\frac{a\sin\theta\cdot b\cos\theta\cdot\sin\zeta}2=\frac{ab\sin 2\theta\sin\zeta}4\le\frac{ab}4,\]
with equality when $\theta=45^\circ$ and $\zeta=90^\circ$.  Then, by the Pythagorean Theorem, \[\left(\frac a{\sqrt2}\right)^2+\left(\frac b{\sqrt 2}\right)^2=c^2\implies a^2+b^2=2c^2.\]
Note that if $m=\tfrac12(a+b)$ and $n=\tfrac12(a-b)$, then \[2c^2=a^2+b^2=(m+n)^2+(m-n)^2=2(m^2+n^2),\]
so $m^2+n^2=c^2=85^2$. Since $a+b$ and $a-b$ have the same parity, $m$ and $n$ are either both integers or both half of odd integers.

We claim that the latter case is impossible. Assume for the sake of contradiction that $m$ and $n$ are both half of odd integers. Let $m'=2m$ and $n'=2n$, so that \[4\cdot 85^2=(m')^2+(n')^2\equiv 2\pmod4,\]
a contradiction. Hence, $m,n\in\mathbb Z$. Because $\gcd(m,n)\mid\gcd(a,b)=1$, $m$ and $n$ are relatively prime, so $(m,n,85)$ is a primitive Pythagorean triple in which $m>n$.

It is well known that for positive integers $p>q$, $(p^2-q^2,2pq,p^2+q^2)$ generates all primitive Pythagorean triples. It is not hard to check that the only solutions to $p^2+q^2=85$ are $(7,6)$ and $(9,2)$. These yield the Pythagorean triples $(84,13,85)$ and $(77,36,85)$. Since $2m=a+b$, the requested sum is $2(84+77)=322$.
\begin{boxremark}
    The triples $(84,13,85)$ and $(77,36,85)$ yield the solutions $(a,b)=(97,71)$ and $(113,41)$, respectively.
\end{boxremark}

---

322
