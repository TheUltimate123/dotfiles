% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Find all functions $f:\mathbb Z_{\ge0}\to\mathbb Z_{\ge0}$ such that \[f(m+f(n))=f(f(m))+f(n)\]
for all nonnegative integers $m$ and $n$.

---

The answer is all functions $f$ such that if $a$ is the greatest common factor of the range of $f$, then $f(aq+r)=aq+f(r)$ whenever $r<a$. It is easy to check that this works: if $m=aq_1+r_1$ and $n=aq_2+r_2$, where $r_1<a$ and $r_2<a$, then
\begin{align*}
    f(m+f(n))&=f(aq_1+r_1+f(aq_2+r_2))\\
    &=aq_1+f(r_1+aq_2+f(r_2))\\
    &=aq_1+aq_2+f(r_1)+f(r_2)\\
    &=f(aq_1+f(r_1))+f(aq_2+r_2)\\
    &=f(f(m))+f(n).
\end{align*}
Now we prove this describes all solutions to the functional equation. Let $P(m,n)$ denote the assertion.

First, $P(0,0)$ gives $f(f(0))=f(f(0))+f(0)$, so $f(0)=0$. Then $P(m,0)$ gives $f(m)=f(f(m))$. Hence the functional equation rewrites as \[f(m+f(n))=f(m)+f(n),\]
so $f$ is periodic modulo every element of the range of $f$. The greatest common factor $a$ of the range of $f$ is expressible as a linear combination of the range of $f$, so $f$ is also periodic modulo $a$. This completes the proof.

