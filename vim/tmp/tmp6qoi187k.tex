% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $n>1$ be a positive integer. Each cell of an $n\times n$ table contains an integer which is $1\pmod n$. It is given that the sum of the numbers in any row, as well as the sum of numbers in any column, is congruent to $n\pmod{n^2}$. Denote by $R_i$ the product of the numbers in the $i^\text{th}$ row and by $C_j$ the product of the numbers in the $j^\text{th}$ column. Prove that \[R_1+\cdots+R_n\equiv C_1+\cdots+C_n\pmod{n^4}.\]

---

Let $na_{i,j}+1$ denote the number in the $i^\text{th}$ row and $j^\text{th}$ column, so that $\sum_{k=1}^na_{i,k}=\sum_{k=1}^na_{k,j}=1$ for all $k$. Denote by $P$ the product of all the numbers in the table. Check that \[R_i\equiv\prod_{k=1}^n(na_{i,k}+1)\equiv\left(n\sum_{k=1}^na_{i,k}\right)+1\equiv1\pmod{n^2},\]
and similarly $C_j\equiv1\pmod{n^2}$. Notice that \[P\equiv\prod_{i=1}^nR_i\equiv\prod_{i=1}^n\Big((R_i-1)+1\Big)\equiv1+\sum_{i=1}^n(R_i-1)\equiv\left(\sum_{i=1}^n R_i\right)-(n-1)\pmod{n^4},\]
whence \[\sum_{i=1}^n R_i\equiv P+(n-1)\equiv\sum_{j=1}^n C_j\pmod{n^4},\]
as desired.
