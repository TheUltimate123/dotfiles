% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $ABC$ be a triangle with $AC=13$, $BC=14$, $AB=15$. Points $M$ and $D$ lie on $\seg{AC}$ with $AM=MC$ and $\angle ABD=\angle DBC$. Points $N$ and $E$ lie on $\seg{AB}$ with $AN=NB$ and $\angle ACE=\angle ECB$. Let $P$ be second intersection of the circumcircles of $\triangle AMN$ and $\triangle ADE$. Ray $AP$ meets $\seg{BC}$ at $Q$. The ratio $\frac{BQ}{CQ}$ can be written in the form $\frac mn$, where $m$ and $n$ are relatively prime positive integers. Find $m-n$.

---

The standard solution is by spiral similarity/length ratios, and I am told inversion at $A$ sends this to some form of Menelaus. Here is a very cool solution I found by linearity. We solve the general problem, with $a=BC$, $b=CA$, $c=AB$. 

First define the function $f:\mathbb R^2\to\mathbb R$ as \[f(\bullet)=\operatorname{Pow}(\bullet,(ADE))-\operatorname{Pow}(\bullet,(AMN)).\]
It is well-known that $f$ is linear. However \[f(B)=BA(BE-BN)=c\left(\frac{ac}{a+b}-\frac c2\right)=\frac{c^2(a-b)}{2(a+b)},\]
and similarly we can compute $f(C)$. Since $f(Q)=0$ we have \[\frac{BQ}{CQ}=\left|\frac{f(B)}{f(C)}\right|=\left|\frac{c^2(a+c)(a-b)}{b^2(a+b)(a-c)}\right|,\]
done. Plugging in the numbers, $BQ/CQ=725/507$, answer $218$.

---

218
