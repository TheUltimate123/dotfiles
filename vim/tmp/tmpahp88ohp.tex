% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Solve $m^2+2\cdot3^n=m\left(2^{n+1}-1\right)$ over nonnegative integers.

---

The answers are $(6,3)$, $(9,3)$, $(9,5)$, $(54,5)$. Considering the equation as a quadratic in $m$, by Vieta's formulas there are nonnegative integers $a$ and $b$, with $a+b=n$, such that $2\cdot3^a+3^b=2^{n+1}-1$. Each solution $(a,b)$ to this equation corresponds to solutions $(m,n)$ of the form $(2\cdot3^a,a+b)$ and $(3^b,a+b)$.

It suffices to show all $(a,b)$ satisfying $2\cdot3^a+3^b=2^{a+b+1}-1$ are $(1,2)$ and $(3,2)$. First assume $a\le2$ or $b\le2$. It is clear neither $a=0$ nor $b=0$ yields any solutions.
\begin{itemize}
    \item If $a=0$, then $2+3^b=2^{b+1}-1$. Unless $b=0$, which fails, this breaks mod $3$.
    \item If $b=0$, then $2\cdot3^a+1=2^{a+1}-1$. The left-hand side is always strictly greater, so no solutions.
    \item If $a=1$, then $6+3^b=2^{b+2}-1$. The left-hand side is greater for $b\ge3$, and no $b\le2$ works, so no solutions.
    \item If $b=1$, then $2\cdot3^a+3=2^{a+2}-1$. The left-hand side is $1\pmod4$ but the right-hand side is $3\pmod4$, so no solutions.
    \item If $a=2$, then $18+3^b=2^{b+3}-1$, or $19=2^{b+3}-3^b$. The right-hand side is $-1$ or $-3$ mod $8$, so no solutions.
    \item If $b=2$, then $2\cdot3^a+9=2^{a+3}-1$. The left-hand side is greater for $a\ge4$, and the equation holds only for $a=1$ and $a=3$.
\end{itemize}
Henceforth assume $a,b\ge3$. We will show there are no solutions.
\begin{itemize}
    \item Taking mod $9$, $2^{a+b-1}\equiv1\pmod9$, so $a+b\equiv5\pmod6$.
    \item Taking mod $8$, $2\cdot3^a+3^b\equiv7\pmod8$, but $3^a,3^b\in\{1,3\}\pmod8$, so $3^a\equiv3\pmod8$ and $3^b\equiv1\pmod8$. This implies $a$ is odd and $b$ is even.
    \item Taking mod $7$, since $6\mid a+b+1$ we have $2\cdot3^a+3^b\equiv0\pmod7$, so $3^{b-a}\equiv5\pmod7$. Thus $b-a\equiv5\pmod7$, and combining with $b+a\equiv5\pmod7$, we have $a\in\{0,3\}$ and $b\in\{2,5\}$ mod $7$. Since $a$ is odd and $b$ is even, $a\equiv3\pmod6$ and $b\equiv2\pmod6$.
    \item Finally we take mod $73$. Note that $2^9\equiv1\pmod{73}$ and $3^6\equiv-1\pmod{73}$. Thus $3^a\in\{54,-54\}$, $3^b\in\{9,-9\}$, and $2^{a+b+1}\in\{8,64\}$. Combining these, $a\equiv3\pmod{12}$, $b\equiv2\pmod{12}$, and $a+b\equiv5\pmod9$. By Chinese Remainder theorem, $a+b\equiv5\pmod{36}$.
\end{itemize}
Finally $t=(a+b+1)/2$ is $3\pmod{18}$, so it follows that \[\nu_3\big(2\cdot3^a+3^b\big)=\nu_3\big(4^t-1\big)=1+\nu_3(t)=2\]
by lifting the exponent. This contradicts $a,b\ge3$, end proof.

