% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

A deck of $n>1$ cards is given. A positive integer is written on each card. The deck has the property that the arithmetic mean of the numbers of each pair of cards is also the geometric mean of the numbers on some collection of one or more cards.

For which $n$ does it follow that the numbers on the cards are all equal?

---

All $n$. Let the numbers on the cards be $a_1\ge a_2\ge\cdots\ge a_n$, and assume by scaling that $a_1$, \ldots, $a_n$ are relatively prime.
\begin{claim*}
    Let $p$ be prime. If $p\mid a_1$, then $p\mid a_k$ for all $k$.
\end{claim*}
\begin{proof}
    We will prove $p\mid a_k$ by strong induction on $k$; assume that $p$ divides $a_1$ through $a_k$. We know from the problem condition that
    \[\frac{a_k+a_{k+1}}2=\sqrt[t]{a_{i_1}a_{i_2}\cdots a_{i_t}}\]
    for $i_1<i_2<\cdots<i_t$.

    If $a_k=a_{k+1}$, then $p\mid a_{k+1}$ as well. Otherwise $a_k<a_{k+1}$, so $i_1\le k$. Recall that $p\mid a_{i_1}$, so $p$ divides $a_{k+1}$ as well.
\end{proof}
Therefore no primes divide $a_1$, so $a_1=a_2=\cdots=a_n=1$.

