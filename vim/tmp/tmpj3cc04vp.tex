% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $k$, $\ell$ be positive integers, and let $S=\{x_1,x_2,\ldots,x_{k+\ell}\}$ be a $(k+\ell)$-element set of real numbers contained in the interval $[0,1]$. A $k$-element subset $A\subset S$ is called \emph{nice} if
\[\left\lvert\frac1k\sum_{x_i\in A}x_i-\frac1\ell\sum_{x_j\in S\setminus A}x_j\right\rvert\le\frac{k+\ell}{2k\ell}\]
Prove that the number of nice subsets is at least $\frac2{k+\ell}\binom{k+\ell}k$.

---

First we rephrase the condition:
\begin{claim*}
    A $k$-element subset $A\subset S$ is nice if and only if \[\left\lvert\sum_{x_i\in A}x_i-\mathop{\mathbb E}_A\left[\sum_{x_i\in A}x_i\right]\right\rvert\le\frac12.\]
\end{claim*}
\begin{proof}
    This is straightforward:
    \begin{align*}
        \left\lvert\frac1k\sum_{x_i\in A}x_i-\frac1\ell\sum_{x_j\in S\setminus A}x_j\right\rvert&\le\frac{k+\ell}{2k\ell}\\
        \iff\left\lvert\frac{k+\ell}{k\ell}\sum_{x_i\in A}x_i-\frac1\ell\sum_{x_j\in S}x_j\right\rvert&\le\frac{k+\ell}{2k\ell}\\
        \iff\left\lvert\sum_{x_i\in A}x_i-\frac k{k+\ell}\sum_{x_j\in S}x_j\right\rvert&\le\frac12,
    \end{align*}
    as claimed.
\end{proof}

Now we prove a stronger statement:
\begin{quote}
    Let $(x_1,\ldots,x_{k+\ell})$ be any permutation of the elements of $S$; then among the $k+\ell$ cyclic shifts shown below
    \begin{align*}
        A_1&=\{x_1,x_2,\ldots,x_k\}\\
        A_2&=\{x_2,x_3,\ldots,x_1\}\\
        &\;\vdots\\
        A_{k+\ell}&=\{x_{k+\ell},x_1,\ldots,x_{k-1}\},
    \end{align*}
    at least two are nice.
\end{quote}
Note that the expected value of $\sum_{x_i\in A}x_i$ where $A$ is chosen from $S$ is the same as the expected value where $A$ is chosen from one of the $k+\ell$ cyclic shifts.

Observe that the quantity \[f(A):=\sum_{x_i\in A}x_i-\mathop{\mathbb E}_A\left[\sum_{x_i\in A}x_i\right]\]
averages to zero. But $\left\lvert f(A_i)-f(A_{i+1})\right\rvert\le1$ for each $i$, so it $f(A)$ is in the interval $[-\frac12,\frac12]$ at least twice.

