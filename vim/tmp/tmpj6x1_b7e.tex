% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $f(x)=x^2-2$. There are $N$ real numbers $x$ such that \[\underbrace{f(f(\ldots f}_{2019\text{ times}}(x)\ldots))=\underbrace{f(f(\ldots f}_{2020\text{ times}}(x)\ldots)).\]
Find the remainder when $N$ is divided by $1000$. 

---

The fixed points of $f$ are $2$ and $-1$, so we want $f^{2019}(x)\in\{2,-1\}$. Let $a_n$ be the number of solutions to $f^n(x)\in\{2,-1\}$, and let $b_n=a_n-a_{n-1}$.

By arrows, all $x$ with $f^n(x)\in\{2,-1\}$ for some $x$ must satisfy $x\ge-2$. Otherwise $f(x)>2$ and $f$ keeps on increasing. Note that for each $x_0$ such that $f^n(x_0)\in\{2,-1\}$ but $f^{n-1}(x_0)\notin\{2,-1\}$, the solutions to $f(x)=x_0$ satisfy $f^{n+1}(x_0)\in\{2,-1\}$ but $f^n(x_0)\notin\{2,-1\}$. For each $x_0\notin\{2,-1\}$, $f(x)=x_0$ has two distinct roots.

Hence $b_{n+1}=2b_n$ for $n\ge2$. In otherwords, $a_{n+1}=3a_n-2a_{n-1}$. By the base case $a_1=4$ and $a_2=7$, standard methods yield $a_n=3\cdot2^{n-1}+1$. Hence $N=3\cdot2^{2018}+1$, and CRT/Euler give an answer of $433$.

---

433
