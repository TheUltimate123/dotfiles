% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

A positive integer $n$ is \emph{interesting} if $2018$ divides $d(n)$, the number of divisors of $n$. Determine all positive integers $k$ such that there exists an infinite arithmetic sequence with common difference $k$ whose terms are all interesting.

---

The answer is all integers $k$ not equal to $2^{1009}$ for which $\nu_p(k)\ge1009$ for some prime $p$. The problem is asking for all $k$ for which there is a residue $r$ such that sufficiently large integers congruent to $r\pmod k$ are interesting.
\begin{customenv}{Part 1: Achievability}
    Consider $k=p^{1009}j$, where $p$ is prime and $j$ is a integer such that $(p,j)\ne(2,1)$. We may take integers of the form $n\equiv up^{1008}\pmod{k}$, where $u$ is a quadratic non-residue mod $pj$. For these numbers, $\nu_p(n)=1009$, so $1009\mid d(n)$, and since $n=p^{1009}jt+up^{1008}=p^{1008}(pjt+u)$ is not a perfect square, $2\mid d(n)$ as desired.
\end{customenv}
\begin{customenv}{Part 2: Restriction}
    Assume for contradiction that $\nu_p(k)\le1008$ for every $p$. We look at $n$ of the form $kr+t$, infinitely many of which are of the form $\gcd(k,t)q$, where $q\nmid k$ is a prime, by Dirichlet's theorem. This forces $\nu_p(\gcd(k,t))=1008$ for some $p$; in particular $\nu_p(k)=1008$ and $\nu_p(t)\ge1008$. Factoring out $p^{1008}$, by Chinese Remainder Theorem it is possible for $\nu_p(n)\ge1009$. If there are multiple $p$ for which $\nu_p(\gcd(k,t))=1008$, since we are applying Chinese Remainder Theorem mod $p$ and $k/p^{1008}$, which are unique, there is an $n$ for which $\nu_p(n)\ge1009$ for all such $p$. Thus $k$ is not interesting.

    Finally consider $k=2^{1009}$, so that we concern integers of the form $n=2^{1009}r+t$. We may factor this as $n=2^{\nu_2(t)}(2^{1009-\nu_2(t)}r+t')$, where $t'$ is odd. Thus by Dirichlet's theorem we may choose $r$ such that the right term is prime. For $n$ to be interesting, we must have $\nu_2(t)=1008$, but it is not hard to check that $t=2^{1008}$ does not work since there is no quadratic non-residue mod $2$. Thus $2^{1009}$ fails.
\end{customenv}
