% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $r$ be a positive integer, and let $a_0$, $a_1$, $\ldots$ be an infinite sequence of real numbers. Assume that for all nonnegative integers $m$ and $s$ there exists a positive integer $n\in[m+1,m+r]$ such that
\[a_m+a_{m+1}+\cdots+a_{m+s}=a_n+a_{n+1}+\cdots+a_{n+s}\]
Prove that the sequence is periodic, i.e.\ there exists some $p\ge1$ such that $a_{n+p}=a_n$ for all $n\ge0$.

---

By considering the $s=0$ conditions only, it is clear at most $r$ different numbers appear in $(a_i)$. Then there are at most $r^r$ distinct tuples among $A_i=(a_i,a_{i+1},\ldots,a_{i+r-1})$, so for some $p\le r^r$, we have $A_i=A_{i+p}$ infinitely often.

The set of $i$ with $A_i=A_{i+p}$ is infinite, so it remains to prove:
\begin{claim*}
    If $A_{i+1}=A_{i+p+1}$, then $A_i=A_{i+p}$.
\end{claim*}
Let $S_s(m)=a_m+\cdots+a_{m+s-1}$. By hypothesis, for some $i<t\le t+r$ we have $S_p(i)=S_p(t)$. This rewrites as $S_{t-i}(i)=S_{t-i}(i+p)$. But $S_{t-i-1}(i+1)=S_{t-i-1}(i+p+1)$, so \[a_i=S_{t-i}(i)-S_{t-i-1}(i+1)=S_{t-i}(i+p)-S_{t-i-1}(i+p+1)=a_{i+p},\]
as needed.

