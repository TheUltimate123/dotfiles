% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.
% vim: tw=72

---

Find all pairs $(k,n)$ of positive integers such that \[k!=(2^n-1)(2^n-2)\cdots(2^n-2^{n-1}).\]

---

The answer is $(1,1)$ and $(3,2)$. These clearly work, so we show that these are the only solutions. First notice that \[\prod_{i=0}^{n-1}\left(2^n-2^i\right)=\prod_{i=0}^{n-1}2^i\left(2^{n-i}-1\right)=2^{n(n-1)/2}\prod_{i=1}^n\left(2^i-1\right),\]
thus \[k=\sum_{i=1}^\infty\frac k{2^i}>\sum_{i=1}^\infty\left\lfloor\frac k{2^i}\right\rfloor=\nu_2(k!)=\frac{n(n-1)}2.\]
Note that for all odd $i$, $3\nmid2^i-1$, and furthermore by the Lifting the Exponents Lemma, \[\nu_3(k!)=\sum_{i=1}^{\lfloor n/2\rfloor}\nu_3\left(4^i-1\right)=\sum_{i=1}^{\lfloor n/2\rfloor}\Big(1+\nu_3(i)\Big)=\lfloor n/2\rfloor+\nu_3\left(\lfloor n/3\rfloor!\right).\]
But clearly $\nu_3\big((3\lfloor n/2\rfloor+\lfloor n/2\rfloor)!\big)\ge\lfloor n/2\rfloor+\nu_3(\lfloor n/2\rfloor!)$, so \[\nu_3(k!)\le\nu_3\big((\lfloor n/2\rfloor+3\lfloor n/2\rfloor)!\big)\le\nu_3\big((2n)!\big),\]
whence $2n+2\ge k>\tfrac12n(n-1)$, or rather $0>n^2-5n-4$ and thus $n<\tfrac12(5+\sqrt{41})<6$. Then we only need to check $n\le5$, which is an easy finite case check that yields the desired answer.

