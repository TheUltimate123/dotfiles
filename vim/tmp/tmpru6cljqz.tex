% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Let $S$ be the set of all positive integers $n$ such that $n^4$ has a divisor in the range $n^2+1$, $n^2+2$, $\ldots$, $n^2+2n$. Prove that there are infintiely many elements of $S$ of each of the forms $7m$, $7m+1$, $7m+2$, $7m+5$, $7m+6$ and no elements of $S$ of the form $7m+3$ or $7m+4$, where $m$ is an integer.

---

Suppose $1\le k\le 2n$ and $n^2+k$ divides $n^4$. It is equivalent for $n^2+k$ to divide $k^2$; then \[\frac{k^2}{n^2+k}<\frac{(2n)^2}{n^2+0}=4,\]
so the quotient must be $1$, $2$, or $3$.
\begin{itemize}
    \item The quotient is $1$: then $k^2=n^2+k$, so $n^2=k^2-k$ is between $(k-1)^2$ and $k^2$. Thus there are no solutions in this case.
    \item The quotient is $2$: then $k^2=2n^2+2k$, or $(k-1)^2-2n^2=1$. Substituting $k'=k-1$, we have $0\le k'\le2n-1$ and $k'^2-2n^2=1$. Note that any solution to this Pell's equation obeys $0\le k'\le2n-1$.

        By standard methods, the solutions $(x,y)$ to $x^2-2y^2=1$ are given by the base case $(3,2)$ and $(x,y)\mapsto(3x+4y,2x+3y)$. Taking this recurrence modulo $7$, we have \[(3,2)\mapsto(3,5)\mapsto(1,0)\mapsto(3,2)\mapsto\cdots,\]
        so $n\pmod7$ is $0$, $2$, $5$ infinitely often but never any other residue.
    \item The quotient is $3$: then $k^2=3n^2+3k$, or $(2k-3)^2-12n^2=9$. Substituting $k'=2k-3$, we have $-1\le k'\le4n-3$ and $k'^2-12n^2=9$. Note that any solution to this Pell's equation obeys $-1\le k'\le4n-3$.

        By standard methods, the solutions $(x,y)$ to $x^2-12y^2=9$ are given by the base case $(21,6)$ and $(x,y)\mapsto(7x+24y,2x+7y)$. Taking this recurrence modulo $7$, we have \[(0,6)\mapsto(4,0)\mapsto(0,1)\mapsto(3,0)\mapsto(0,6)\mapsto\cdots,\]
        so $n\pmod7$ is $0$, $1$, $6$ infinitely often but never any other residue.
\end{itemize}
Thus there are infinitely many $n$ whose remainder modulo $7$ is one of $0$, $1$, $2$, $5$, $6$, but never $3$ or $4$. This completes the proof.

