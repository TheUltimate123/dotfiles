% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

An ordered pair $(x,y)$ of integers is a \emph{primitive point} if $\gcd(x,y)=1$. Given a finite set $S$ of primitive points, prove that there exist a positive integer $n$ and integers $a_0$, $a_1$, $\ldots$, $a_n$ such that for each $(x,y)\in S$, we have \[a_0x^n+a_1x^{n-1}y+a_2x^{n-2}y^2+\cdots+a_{n-1}xy^{n-1}+a_ny^n=1.\]

---

In English, we want to prove that for any set of irreducible lattice points, there is a nonconstant homogeneous polynomial $P\in\mathbb Z[x,y]$ such that $P(x,y)=1$ for all $(x,y)\in S$.

We induct on $|S|$, with the base case $|S|=1$ being B\'ezout's lemma. Assume that for some set $S=\{(x_1,y_1),\ldots,(x_{k-1},y_{k-1})\}$ of irreducible lattice points, we have $P(x_i,y_i)$ for $i=1,\ldots,k-1$. The goal is to prove for each choice of $(x_k,y_k)\notin S$, there is a polynomial $Q$ such that $Q(x_i,y_i)$ for $i=1,\ldots,k$.

Let $n=\deg P$ and let $ax_k+by_k=1$, where $a$, $b$ exist by B\'ezout's lemma. We will exhibit a polynomial of the form \[Q(x,y)=A\cdot P(x,y)^u+B\cdot(ax+by)^v\prod_{i=1}^{k-1}\left(y_i\cdot x-x_i\cdot y\right),\]
where $A$, $B$ are integers and $nu=v+(k-1)$.

By design, $Q(x_i,y_i)=1$ for $i=1,\ldots,k-1$, so it will suffice to find $A$, $B$ such that $Q(x_k,y_k)=1$.
\begin{iclaim*}
    $P(x_k,y_k)$ and $y_ix_k-x_iy_k$ are relatively prime for all $i=1,\ldots,k-1$.
\end{iclaim*}
\begin{proof}
    Assume $p\mid y_ix_k-x_iy_k$. If $p\mid x_k$, then $p\nmid y_k$, so apply the below argument with $x$, $y$ swapped. In what follows, $p\nmid x_k$ (and thus $p\nmid x_i$).

    Then we have $y_k/x_k\equiv y_i/x_i\pmod p$, so
    \begin{align*}
        P(x_k,y_k)&\equiv\sum_{j=0}^na_jx_k^{n-j}y_k^j
        \equiv x_k^n\sum_{j=0}^na_j\left(\frac{y_k}{x_k}\right)^j
        \equiv x_k^n\sum_{j=0}^na_j\left(\frac{y_i}{x_i}\right)^j\\
        &\equiv\left(\frac{x_k}{x_i}\right)^nP(x_i,y_i)
        \equiv\left(\frac{x_k}{x_i}\right)^n
        \not\equiv0\pmod p,
    \end{align*}
    which proves the claim.
\end{proof}

Since $ax_k+by_k=1$, we have $P(x_k,y_k)$ and $(ax_k+by_k)^v\prod_{i=1}^{k-1}(y_ix_k-x_iy_k)$ are relatively prime, so by B\'ezout's lemma, there are integers $A$, $B$ such that $Q(x_k,y_k)=1$. This completes the proof.
\begin{boxremark}
    We have an unnecessary degree of freedom: that $u$ is free to be almost anything. If this is annoying to the reader, we can instead take $u=2\vphi\left(\prod_{i=1}^{k-1}(y_ix_k-x_iy_k)\right)$, so that some polynomial \[Q(x,y)=P(x,y)^u+B\cdot(ax+by)^v\prod_{i=1}^{k-1}(y_i\cdot x-x_i\cdot y)\]
    with $nu=v+(k-1)$ works just fine (after the claim).
\end{boxremark}

