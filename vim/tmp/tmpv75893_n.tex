% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Suppose that $(a_1,b_1)$, \ldots, $(a_{100},b_{100})$ are distinct ordered pairs of nonnegative integers. Let $N$ denote the number of pairs of integers $(i,j)$ satisfying $1\le i<j\le100$ and
\[|a_ib_j-a_jb_i|=1.\]
Determine the largest possible value of $N$ over all possible choices of the 100 orderd pairs.

---

We will show by induction that for $n\ge2$, the answer with $n$ points instead is $2n-3$. Say $P_j=(a_j,b_j)$ is $P_i=(a_i,b_i)$'s \emph{escort} if $|a_ib_j-a_jb_i|=1$; say $P_j$ is a \emph{positive escort} if $a_ib_j-a_jb_i=1$ and a \emph{negative escort} if $a_ib_j-a_jb_i=-1$.

The base case of the induction is obvious.

Now assume the hypothesis for $n-1$ points. Without loss of generality, $a_1+b_1$ is maximal among all the $a_i+b_i$.
\begin{claim*}
    $P_1$ has at most two escorts.
\end{claim*}
\begin{proof}
    For contradiction let $P_1$ have three or more escorts. By Pigeonhole, $P_1$ has either at least two positive escorts or at least two negative escorts; without loss of generality it is the former. Call two of $P_1$'s positive escorts $P_u$, $P_v$, with $P_u$ closer to the origin than $P_j$.

    By B\'ezout's lemma, $P_v=P_u+(b_1k,a_1k)$ for some integer $k$ (where addition is component-wise), so $a_v+b_v\ge b_1k+a_1k\ge b_1+a_1$, absurd, with equality if and only if $P_u=(0,0)$; but $(0,0)$ is never an escort, contradiction.
\end{proof}

Then delete $P_1$ and induct down. The answer is 197.


