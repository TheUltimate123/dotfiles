% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

In triangle $ABC$, select arbitrary points $P$ and $Q$ on side $BC$ such that $BP=CQ$, and $P$ lies between $B$ and $Q$. The circumcircle of $\triangle APQ$ intersects sides $AB$ and $AC$ at $E$ and $F$, respectively. Point $T$ is the intersection of lines $EP$ and $FQ$. Two lines passing through the midpoint of $\seg{BC}$ parallel to $\seg{AB}$ and $\seg{AC}$ intersect lines $EP$ and $FQ$ at points $X$ and $Y$, respectively.

Prove that the circumcircles of $\triangle TXY$ and $\triangle APQ$ are tangent to each other.

---

\begin{center}
    \begin{asy}
        size(9cm); defaultpen(fontsize(10pt));
        pen pri=red;
        pen sec=orange;
        pen tri=fuchsia;
        pen fil=pri+opacity(0.05);
        pen sfil=sec+opacity(0.05);
        pen tfil=tri+opacity(0.05);

        pair A,B,C,Ap,M,P,Q,O,D,EE,F,Z,T,X,Y,Tp;
        A=dir(115);
        B=dir(190);
        C=dir(350);
        Ap=B*C/A;
        M=(B+C)/2;
        P=(3B+2M)/5;
        Q=B+C-P;
        O=circumcenter(A,P,Q);
        D=2*foot(O,A,M)-A;
        EE=2*foot(O,A,B)-A;
        F=2*foot(O,A,C)-A;
        Z=extension(B,C,EE,F);
        T=extension(EE,P,F,Q);
        X=extension(EE,P,M,M+B-A);
        Y=extension(F,Q,M,M+C-A);
        Tp=2*foot(circumcenter(T,X,Y),A,D)-D;

        filldraw(circumcircle(P,M,D),tfil,tri);
        filldraw(circumcircle(Q,M,D),tfil,tri);
        draw(A--Tp--T,tri);
        filldraw(circumcircle(T,X,Y),sfil,sec);
        draw(Ap--T,sec);
        draw(EE--T--F,sec);
        filldraw(circumcircle(A,P,Q),fil,pri);
        draw(Ap--Z--D,pri+Dotted);
        draw(EE--Z--C,pri);
        filldraw(A--B--C--cycle,fil,pri);

        dot("$A$",A,NW);
        dot("$B$",B,SW);
        dot("$C$",C,S);
        dot("$A'$",Ap,NE);
        dot("$M$",M,SW);
        dot("$P$",P,dir(260));
        dot("$Q$",Q,SE);
        dot("$D$",D,dir(230));
        dot("$E$",EE,W);
        dot("$F$",F,dir(35));
        dot("$Z$",Z,E);
        dot("$T$",T,SW);
        dot("$X$",X,dir(220));
        dot("$Y$",Y,dir(280));
        dot("$T'$",Tp,SE);
    \end{asy}
\end{center}
Let $\seg{AM}$ intersect $(APQ)$ again at $D$, let $A'$ be the point such that $ABCA'$ is an isosceles trapezoid, and let $Z=\seg{BC}\cap\seg{EF}$. Denote by $\infty$ the point at infinity along $\seg{BC}$.

Note that
\begin{align*}
    -1&=(BC;M\infty)\stackrel A=(EF;DA'),\\
    -1&=(PQ;M\infty)\stackrel A=(PQ;DA').
\end{align*}
Consequently $\seg{A'D}$ is the polar of $Z$, which passes through $T$ by Brokard's theorem.

By $\da PXM=\da PEA=\da PDA=\da PDM$ and $\da QYM=\da QDM$, we have $PMDX$ and $QMDY$ cyclic. Let $T'$ be the point on $\seg{AD}$ such that $\seg{TT'}\parallel\seg{BC}$. By homothety at $D$, we know $(DTT')$ and $(APQ)$ are tangent, so it suffices by symmetry to show that $DXTT'$ is cyclic.

This follows readily from $\da PXT=\da DXP=\da DMP=\da DAA'=\da DT'T$, and we are done.

