% Input your problem and solution below.
% Three dashes on a newline indicate the breaking points.

---

Determine all functions $f:\mathbb R\to\mathbb R$ satisfying \[f(x+yf(x))+f(xy)=f(x)+f(2019y),\]

---

Let $P(x,y)$ denote the assertion. The answer is
\begin{itemize}[itemsep=0em]
    \item $f$ constant;
    \item $f(x)=0$ for $x\ne0$; and
    \item $f(x)=2019-x$ for all $x$.
\end{itemize}
These can be easily verified. We now check these are the only answers. Assume that $f$ is nonconstant. If $f(0)=0$, then $P(0,y)$ gives $f(2019y)=0$, so $f\equiv0$; thus we may assume $f(0)\ne0$.

First, $P(2019,y)$ gives $f(2019+yf(2019))=f(2019)$, so if $f(2019)\ne0$, then $2019+yf(2019)$ is surjective and $f$ is constant. Henceforth $f(2019)=0$. Now $P(x,1)$ and $P(0,1)$ give \[f(x+f(x))=f(f(0))=f(2019).\]
If there is no $z\ne2019$ with $f(z)=2019$, then $x+f(x)=2019$ for all $x$, so $f(x)=2019-x$.

Henceforth assume such $z$ exists, and let $a=z/2019\ne1$. Assertions $P(2019x,y)$ and $P(zx,y)$ give \[f(2019x+yf(2019x))=f(zx+yf(zx))=f(zx+yf(2019x)).\]
If $x_0=2019x$, then we have $f(x_0+yf(x_0))=f(ax_0+yf(x_0))$. Assume we can select $x_0$ such that $x_0\ne0$ and $f(x_0)\ne0$; otherwise we are done. From this, $x_0+yf(x_0)$ attains all real numbers, so we have $f(x)=f(x+(a-1)x_0)$ for all $x$.

Denote $p=(a-1)x_0$, so that $f$ is periodic modulo $p$. To finish, note that $P(x,y)$ and $P(x+p,y)$ yield $f(xy+py)=f(xy)$. As we fix $xy$ and vary $y$, we have $f$ is constant, so we are done.

